[gd_scene load_steps=14 format=3 uid="uid://xlhh6j1nptq0"]

[ext_resource type="Texture2D" uid="uid://bhbeuo8dgngxj" path="res://data/textures/grid.png" id="1"]
[ext_resource type="PackedScene" uid="uid://cdjtiuev3l1gm" path="res://data/player/character.tscn" id="2"]
[ext_resource type="PackedScene" path="res://data/scenes/debug.tscn" id="3"]
[ext_resource type="PackedScene" path="res://data/scenes/fade.tscn" id="4"]
[ext_resource type="PackedScene" uid="uid://dvmtolknwombo" path="res://data/scenes/barrel.tscn" id="5"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_mx1ig"]

[sub_resource type="Sky" id="1"]
sky_material = SubResource( "PhysicalSkyMaterial_mx1ig" )

[sub_resource type="Environment" id="2"]
background_mode = 2
sky = SubResource( "1" )
tonemap_mode = 2
ssao_enabled = true
ssao_intensity = 6.0
glow_enabled = true
glow_blend_mode = 1
adjustment_enabled = true

[sub_resource type="BoxMesh" id="3"]
size = Vector3(1, 6, 20)

[sub_resource type="ConvexPolygonShape3D" id="5"]
points = PackedVector3Array(-0.5, 3, 10, 0.5, 3, -10, 0.5, 3, 10, -0.5, 3, -10, -0.5, -3, 10, 0.5, -3, -10, 0.5, -3, 10, -0.5, -3, -10, 0.5, 3, 10, -0.5, 3, -10, 0.5, 3, -10, -0.5, 3, 10, 0.5, -3, 10, -0.5, -3, -10, 0.5, -3, -10, -0.5, -3, 10, 0.5, 3, 10, -0.5, -3, 10, -0.5, 3, 10, 0.5, -3, 10, 0.5, 3, -10, -0.5, -3, -10, -0.5, 3, -10, 0.5, -3, -10)

[sub_resource type="StandardMaterial3D" id="6"]
albedo_texture = ExtResource( "1" )
uv1_triplanar = true

[sub_resource type="BoxMesh" id="7"]
material = SubResource( "6" )
size = Vector3(500, 2, 500)

[sub_resource type="BoxShape3D" id="8"]
size = Vector3(500, 2, 500)

[node name="main" type="Node"]
script = null

[node name="post_processing" type="Node3D" parent="."]
script = null

[node name="sun" type="DirectionalLight3D" parent="post_processing"]
transform = Transform3D(0.707107, 0.612372, -0.353553, 0, 0.5, 0.866025, 0.707107, -0.612373, 0.353553, 0, 0, 0)
layers = 2
light_color = Color(0.976471, 0.959804, 0.85098, 1)
shadow_enabled = true
directional_shadow_blend_splits = true
script = null

[node name="environment" type="WorldEnvironment" parent="post_processing"]
environment = SubResource( "2" )
script = null

[node name="character" parent="." instance=ExtResource( "2" )]
transform = Transform3D(-1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 0, 5.50934, 10)

[node name="debug" parent="." instance=ExtResource( "3" )]
player = NodePath("../character")

[node name="fade" parent="." instance=ExtResource( "4" )]

[node name="scenario" type="Node3D" parent="."]
script = null

[node name="wall" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(9.52193, 0, 0, 0, 1, 0, 0, 0, 1, 1.82181, 2.01321, 8.02284)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
layers = 3
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall7" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(7.9677, 0, 0, 0, 1, 0, 0, 0, 0.368961, 1.82181, 3.93382, 2.17341)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall5" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(9.52193, 0, 0, 0, 1, 0, 0, 0, 1, 1.82181, 3.77909, 28.0547)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
layers = 3
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall6" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(-0.237304, 1.86938, 0, 0.411023, 1.07929, 0, 0, 0, 1, 1.26171, 2.90546, 28.0547)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall4" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(0.700685, 0.713471, 0, -0.713471, 0.700685, 0, 0, 0, 1, 4.15242, 3.2297, 8.02284)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall2" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.14766, 5.9187, -13.4699)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall3" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.47245, 9.17323, -13.4699)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall8" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.73459, 13.7277, -25.7436)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall9" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.73459, 13.7277, -45.7488)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="wall10" type="StaticBody3D" parent="scenario" groups=["wallk"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.73459, 13.7277, -65.7488)
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/wall10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mesh = SubResource( "3" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/wall10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
shape = SubResource( "5" )
script = null

[node name="terrain" type="StaticBody3D" parent="scenario" groups=["concrete"]]
script = null

[node name="mesh" type="MeshInstance3D" parent="scenario/terrain"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0358462, -0.01824, 0.0206671)
mesh = SubResource( "7" )
surface_material_override/0 = null
script = null

[node name="collision" type="CollisionShape3D" parent="scenario/terrain"]
shape = SubResource( "8" )
script = null

[node name="props" type="Node3D" parent="scenario"]
script = null

[node name="barrel_0" parent="scenario/props" instance=ExtResource( "5" )]
transform = Transform3D(0.727593, 0, -0.686009, 0, 1, 0, 0.686009, 0, 0.727593, -10.2631, 2.25286, 10.3244)

[node name="barrel_1" parent="scenario/props" instance=ExtResource( "5" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.2841, 2.25325, 8.92728)

[node name="barrel_2" parent="scenario/props" instance=ExtResource( "5" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.2974, 4.7109, 9.93897)

[node name="barrel_3" parent="scenario/props" instance=ExtResource( "5" )]
transform = Transform3D(0.363365, -0.931647, 0, 0.931647, 0.363365, 0, 0, 0, 1, -8.23876, 2.67564, 17.051)

[node name="barrel_4" parent="scenario/props" instance=ExtResource( "5" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.2444, 2.26095, 10.2583)
